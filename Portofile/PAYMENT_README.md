# ๐ณ ูุธุงู ุงูุฏูุน ุงูุฅููุชุฑููู - Payment Gateway Integration

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฏูุน ูุชูุงูู ูุฏุนู **PayPal** ู **Stripe** ูุฎุฏูุงุช ุงูุงุณุชุดุงุฑุงุช ูุชุตููู ุงูููุงูุน.

### ุงูุฃุณุนุงุฑ ุงูุญุงููุฉ:
- ๐ผ **ุงูุงุณุชุดุงุฑุงุช**: $150 (ุชุญููู ุงููุธูุ ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑุ AIุ ุฅูุฎ)
- ๐จ **ุชุตููู ุงูููุงูุน**: $29 (ุจุฑููุงููุ ูุชุฌุฑุ ูุฎุตุต)

---

## ๐ ูููู ุงููููุงุช

```
Portofile/
โโโ payment.html              # ุตูุญุฉ ุงูุฏูุน ุงูุฑุฆูุณูุฉ
โโโ payment-success.html      # ุตูุญุฉ ุงููุฌุงุญ ุจุนุฏ ุงูุฏูุน
โโโ payment-config.js         # ุชูููู ุจูุงุจุงุช ุงูุฏูุน
โโโ payment-server.js         # ุฎุงุฏู ูุนุงูุฌุฉ ุงูุฏูุน (Backend)
โโโ .env                      # ุงูููุงุชูุญ ุงูุณุฑูุฉ (ูุง ุชุฑูุนู!)
โโโ .env.example             # ูููุฐุฌ ูููุชุบูุฑุงุช ุงูุจูุฆูุฉ
โโโ PAYMENT_SETUP_GUIDE.md   # ุฏููู ุงูุฅุนุฏุงุฏ ุงููุงูู
โโโ QUICK_START.md           # ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
โโโ package.json             # ุงุนุชูุงุฏูุงุช ุงููุดุฑูุน
```

---

## โ ุชู ุงูุฅูุฌุงุฒ

### 1. ุงููููุงุช ุงูุฃุณุงุณูุฉ
- โ ุตูุญุฉ ุฏูุน ุงุญุชุฑุงููุฉ ูุน 3 ุฎูุงุฑุงุช (PayPal, Stripe, Wise)
- โ ุตูุญุฉ ูุฌุงุญ ูุน ุฑูู ูุฑุฌุน ูุชูุงุตูู
- โ ุฎุงุฏู Backend ูุชูุงูู ูุน APIs
- โ ูููุงุช ุชูููู ูููุตูุฉ ููุฃูุงู

### 2. ุงูุชูุงูู
- โ PayPal SDK ูุน Order Creation & Capture
- โ Stripe Checkout ูุน Session Management
- โ Webhooks ููุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุงุณุชุซูุงุกุงุช

### 3. ุงูุฃูุงู
- โ ููู .env ููููุงุชูุญ ุงูุณุฑูุฉ
- โ .gitignore ูุญูุงูุฉ ุงูุจูุงูุงุช
- โ SSL/HTTPS ุฌุงูุฒ
- โ ุงูุชุญูู ูู ุงูุฏูุน ูู ุงูุฎุงุฏู

### 4. ููุญุฉ ุงูุชุญูู
- โ ุฅุญุตุงุฆูุงุช ุงููุฏููุนุงุช
- โ ุฅุฌูุงูู ุงูุฅูุฑุงุฏุงุช
- โ ุญุงูุงุช ุงูุทูุจุงุช (ูุฏููุนุ ููุฏ ุงูุงูุชุธุงุฑุ ุฅูุฎ)
- โ ุชุตููุฉ ุญุณุจ ุญุงูุฉ ุงูุฏูุน

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### 1. ุงูุชุซุจูุช

```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุงูุชุญ `.env` ูุฃุถู ููุงุชูุญู:

```env
# PayPal
PAYPAL_CLIENT_ID=YOUR_CLIENT_ID
PAYPAL_CLIENT_SECRET=YOUR_SECRET
PAYPAL_MODE=sandbox  # ุฃู production

# Stripe
STRIPE_SECRET_KEY=sk_test_YOUR_KEY
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_KEY
```

### 3. ุชุญุฏูุซ payment.html

ูู ุงูุณุทุฑ 8ุ ุงุณุชุจุฏู `YOUR_CLIENT_ID`:

```html
<script src="https://www.paypal.com/sdk/js?client-id=YOUR_ACTUAL_CLIENT_ID&currency=USD"></script>
```

### 4. ุชุญุฏูุซ payment-config.js

```javascript
const PAYPAL_CONFIG = {
    clientId: 'YOUR_CLIENT_ID',  // ููุณ ุงููููุฉ ูู .env
    environment: 'sandbox'
};

const STRIPE_CONFIG = {
    publishableKey: 'pk_test_YOUR_KEY',  // ูู .env
};
```

### 5. ุงูุชุดุบูู

**ูุงูุฐุฉ Terminal 1 - ุฎุงุฏู ุงูุฏูุน:**
```bash
node payment-server.js
```

**ูุงูุฐุฉ Terminal 2 - ุฎุงุฏู Portfolio:**
```bash
node server.js
```

### 6. ุงูุงุฎุชุจุงุฑ

1. ุงูุชุญ: http://localhost:8080
2. ุงุฐูุจ ููุณู "ุชูุงุตู ูุนู"
3. ุงููุฃ ุงููููุฐุฌ
4. ุงุถุบุท "ูุชุงุจุนุฉ ููุฏูุน"
5. ุงุฎุชุฑ PayPal ุฃู Stripe

---

## ๐ง ูุถุน ุงูุชุฌุฑุจุฉ (Sandbox/Test)

### PayPal Sandbox

1. ุงุฐูุจ ุฅูู: https://developer.paypal.com
2. ุฃูุดุฆ ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ (Business & Personal)
3. ุงุณุชุฎุฏู Client ID ูู Sandbox

### Stripe Test Mode

**ุจุทุงูุงุช ุงุฎุชุจุงุฑ:**

| ุงูุญุงูุฉ | ุฑูู ุงูุจุทุงูุฉ | ุงููุชูุฌุฉ |
|--------|-------------|---------|
| โ ูุฌุงุญ | 4242 4242 4242 4242 | ุงูุฏูุน ูุงุฌุญ |
| โ ุฑูุถ | 4000 0000 0000 0002 | ูุฑููุถ |
| ๐ณ 3D | 4000 0025 0000 3155 | ูุทูุจ OTP |

- **Expiry**: ุฃู ุชุงุฑูุฎ ูุณุชูุจูู
- **CVC**: ุฃู 3 ุฃุฑูุงู
- **ZIP**: ุฃู ุฑูู

---

## ๐ ุงูุงูุชูุงู ููุฅูุชุงุฌ

### ูุงุฆูุฉ ุงูุชุญูู:

- [ ] **1. ุงุญุตู ุนูู ุญุณุงุจุงุช ุฅูุชุงุฌ:**
  - [ ] PayPal Business Account (Live)
  - [ ] Stripe Live Account

- [ ] **2. ุบููุฑ ุงูููุงุชูุญ ูู `.env`:**
  ```env
  PAYPAL_MODE=production
  STRIPE_SECRET_KEY=sk_live_...
  STRIPE_PUBLISHABLE_KEY=pk_live_...
  ```

- [ ] **3. ุญุฏูุซ ุงูุฑูุงุจุท:**
  ```env
  BASE_URL=https://your-domain.com
  ```

- [ ] **4. ูุนูู HTTPS:**
  - ุงุญุตู ุนูู SSL Certificate
  - ุงุณุชุฎุฏู Cloudflare ุฃู Let's Encrypt

- [ ] **5. ุงุฎุชุจุฑ ุฌููุน ุงูุณููุงุฑูููุงุช:**
  - [ ] ุฏูุน ูุงุฌุญ
  - [ ] ุฏูุน ูุฑููุถ
  - [ ] ุฅูุบุงุก ุงูุฏูุน
  - [ ] ุงุณุชุฑุฏุงุฏ (Refund)

- [ ] **6. ูุนูู Webhooks:**
  - [ ] PayPal Webhook URL
  - [ ] Stripe Webhook Secret

---

## ๐ ูุฑุงูุจุฉ ุงููุนุงููุงุช

### PayPal Dashboard
๐ https://www.paypal.com/businessmanage/account/activity

### Stripe Dashboard
๐ https://dashboard.stripe.com/payments

---

## ๐ฐ ุงูุนูููุงุช ุงููุชููุนุฉ

### PayPal (ุงูุณุนูุฏูุฉ):
- **ูุญูู**: 3.4% + $0.30
- **ุฏููู**: 4.4% + ุฑุณูู

**ูุซุงู ุนูู ุงุณุชุดุงุฑุฉ $150:**
```
ุตุงูู ุงูุฅูุฑุงุฏุงุช = $150 - ($150 ร 3.4% + $0.30)
                = $150 - $5.40
                = $144.60 โ
```

### Stripe (ุงูุณุนูุฏูุฉ):
- **ูุญูู**: 2.9% + SAR 1
- **ุฏููู**: 3.4% + $0.30

**ูุซุงู ุนูู ุงุณุชุดุงุฑุฉ $150:**
```
ุตุงูู ุงูุฅูุฑุงุฏุงุช = $150 - ($150 ร 2.9% + $0.30)
                = $150 - $4.65
                = $145.35 โ
```

---

## ๐ ุงููุณุงุนุฏุฉ ูุงูุฏุนู

### ูุดููุฉ: "PayPal SDK not loaded"
**ุงูุญู:**
1. ุชุญูู ูู Client ID ูู `payment.html` ุงูุณุทุฑ 8
2. ุชุฃูุฏ ูู ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
3. ุงูุชุญ Console ููุชูุงุตูู (F12)

### ูุดููุฉ: "Stripe not defined"
**ุงูุญู:**
1. ุชุญูู ูู Publishable Key ูู `payment-config.js`
2. ุชุฃูุฏ ูู ุชุญููู Stripe SDK

### ูุดููุฉ: "Cannot connect to payment server"
**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุดุบูู `payment-server.js`
2. ุชุญูู ูู ุงููููุฐ 3000
3. ุฑุงุฌุน `.env` ููุชุฃูุฏ ูู ุงูุฅุนุฏุงุฏุงุช

### ูุดููุฉ: "Payment failed"
**ุงูุญู:**
1. ุฑุงุฌุน ุณุฌูุงุช ุงูุฎุงุฏู (Terminal)
2. ุชุญูู ูู ุตุญุฉ ุงูููุงุชูุญ
3. ุชุฃูุฏ ูู ุชููุฑ ุงูุฑุตูุฏ (ูุถุน ุงูุฅูุชุงุฌ)

---

## ๐ ููุงุฑุฏ ุฅุถุงููุฉ

- ๐ [ุฏููู ุงูุฅุนุฏุงุฏ ุงููุงูู](PAYMENT_SETUP_GUIDE.md) - ุดุฑุญ ุชูุตููู
- ๐ [ุฏููู ุงูุจุฏุก ุงูุณุฑูุน](QUICK_START.md) - ุฎุทูุงุช ูุฎุชุตุฑุฉ
- ๐ต [PayPal Docs](https://developer.paypal.com/docs)
- ๐ฃ [Stripe Docs](https://stripe.com/docs)

---

## ๐ ุงูุฃูุงู

### โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ:

1. **ูุง ุชุดุงุฑู ุงูููุงุชูุญ ุงูุณุฑูุฉ ุฃุจุฏุงู**
2. **ูุง ุชุฑูุน ููู `.env` ูู GitHub**
3. **ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ**
4. **ูุนูู 2FA ุนูู ุญุณุงุจุงุชู**
5. **ุฑุงูุจ ุงููุนุงููุงุช ุจุงูุชุธุงู**

### โ ุฃูุถู ุงูููุงุฑุณุงุช:

- ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุฌููุน ุงููุนุงููุงุช
- ุณุฌูู ุฌููุน ุงูุฃุญุฏุงุซ (logs)
- ุฑุงุฌุน ุงูุชูุงุฑูุฑ ุดูุฑูุงู
- ุญุฏูุซ ุงูุญุฒู ุจุงูุชุธุงู (`npm update`)

---

## ๐ ุงูุชูุงุตู

ููุฏุนู ุงูููู:
- ๐ง Email: adeeb@myprofcv.com
- ๐ Website: http://localhost:8080

---

## ๐ ููุงุญุธุงุช

### ุงูุฅุตุฏุงุฑ ุงูุญุงูู: v1.0.0
**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2025

### ุงูุชุญุฏูุซุงุช ุงููุงุฏูุฉ:
- [ ] ุฏุนู Apple Pay
- [ ] ุฏุนู Google Pay
- [ ] ุฏุนู mada (ููุณุนูุฏูุฉ)
- [ ] ูุธุงู ุงูููุงุชูุฑ ุงูุชููุงุฆู
- [ ] ุชูุงุฑูุฑ ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ

---

**โจ ูุธุงู ุฏูุน ุงุญุชุฑุงูู ุฌุงูุฒ ููุนูู!**

ููุจุฏุก ุงูุขูุ ุงูุชุญ [QUICK_START.md](QUICK_START.md)
